function cov_jm8ynzac3(){var path="C:\\nodejs\\CropDeal\\BackEnd\\admin\\DBconnect.js";var hash="ff2e7d0ad906834f60900b46770a79704f5b6095";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\nodejs\\CropDeal\\BackEnd\\admin\\DBconnect.js",statementMap:{"0":{start:{line:1,column:15},end:{line:1,column:34}},"1":{start:{line:2,column:12},end:{line:2,column:113}},"2":{start:{line:5,column:4},end:{line:31,column:6}},"3":{start:{line:6,column:8},end:{line:29,column:9}},"4":{start:{line:7,column:28},end:{line:7,column:58}},"5":{start:{line:8,column:28},end:{line:8,column:51}},"6":{start:{line:9,column:12},end:{line:19,column:14}},"7":{start:{line:11,column:16},end:{line:18,column:18}},"8":{start:{line:16,column:20},end:{line:16,column:48}},"9":{start:{line:16,column:29},end:{line:16,column:48}},"10":{start:{line:17,column:20},end:{line:17,column:30}},"11":{start:{line:21,column:12},end:{line:28,column:14}},"12":{start:{line:26,column:16},end:{line:26,column:44}},"13":{start:{line:26,column:25},end:{line:26,column:44}},"14":{start:{line:27,column:16},end:{line:27,column:26}},"15":{start:{line:35,column:4},end:{line:35,column:33}},"16":{start:{line:38,column:0},end:{line:38,column:34}}},fnMap:{"0":{name:"connect",decl:{start:{line:4,column:9},end:{line:4,column:16}},loc:{start:{line:4,column:18},end:{line:32,column:1}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:5,column:23},end:{line:5,column:24}},loc:{start:{line:5,column:41},end:{line:31,column:5}},line:5},"2":{name:"(anonymous_2)",decl:{start:{line:10,column:18},end:{line:10,column:19}},loc:{start:{line:10,column:22},end:{line:19,column:13}},line:10},"3":{name:"(anonymous_3)",decl:{start:{line:15,column:24},end:{line:15,column:25}},loc:{start:{line:15,column:35},end:{line:18,column:17}},line:15},"4":{name:"(anonymous_4)",decl:{start:{line:25,column:20},end:{line:25,column:21}},loc:{start:{line:25,column:31},end:{line:28,column:13}},line:25},"5":{name:"close",decl:{start:{line:34,column:9},end:{line:34,column:14}},loc:{start:{line:34,column:16},end:{line:36,column:1}},line:34}},branchMap:{"0":{loc:{start:{line:6,column:8},end:{line:29,column:9}},type:"if",locations:[{start:{line:6,column:8},end:{line:29,column:9}},{start:{line:6,column:8},end:{line:29,column:9}}],line:6},"1":{loc:{start:{line:16,column:20},end:{line:16,column:48}},type:"if",locations:[{start:{line:16,column:20},end:{line:16,column:48}},{start:{line:16,column:20},end:{line:16,column:48}}],line:16},"2":{loc:{start:{line:26,column:16},end:{line:26,column:44}},type:"if",locations:[{start:{line:26,column:16},end:{line:26,column:44}},{start:{line:26,column:16},end:{line:26,column:44}}],line:26}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ff2e7d0ad906834f60900b46770a79704f5b6095"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_jm8ynzac3=function(){return actualCoverage;};}return actualCoverage;}cov_jm8ynzac3();const mongoose=(cov_jm8ynzac3().s[0]++,require("mongoose"));const dbURI=(cov_jm8ynzac3().s[1]++,"mongodb+srv://admin:123@mongodbpractise.bjozc.mongodb.net/CropdealADMIN?retryWrites=true&w=majority");function connect(){cov_jm8ynzac3().f[0]++;cov_jm8ynzac3().s[2]++;return new Promise((resolve,reject)=>{cov_jm8ynzac3().f[1]++;cov_jm8ynzac3().s[3]++;if(process.env.NODE_ENV==='test'){cov_jm8ynzac3().b[0][0]++;const Mockgoose=(cov_jm8ynzac3().s[4]++,require("mockgoose").Mockgoose);const mockgoose=(cov_jm8ynzac3().s[5]++,new Mockgoose(mongoose));cov_jm8ynzac3().s[6]++;mockgoose.prepareStorage().then(()=>{cov_jm8ynzac3().f[2]++;cov_jm8ynzac3().s[7]++;mongoose.connect(dbURI,{useNewUrlParser:true,useUnifiedTopology:true,useCreateIndex:true,useFindAndModify:true}).then((res,err)=>{cov_jm8ynzac3().f[3]++;cov_jm8ynzac3().s[8]++;if(err){cov_jm8ynzac3().b[1][0]++;cov_jm8ynzac3().s[9]++;return reject(err);}else{cov_jm8ynzac3().b[1][1]++;}cov_jm8ynzac3().s[10]++;resolve();});});}else{cov_jm8ynzac3().b[0][1]++;cov_jm8ynzac3().s[11]++;mongoose.connect(dbURI,{useNewUrlParser:true,useUnifiedTopology:true,useCreateIndex:true,useFindAndModify:true}).then((res,err)=>{cov_jm8ynzac3().f[4]++;cov_jm8ynzac3().s[12]++;if(err){cov_jm8ynzac3().b[2][0]++;cov_jm8ynzac3().s[13]++;return reject(err);}else{cov_jm8ynzac3().b[2][1]++;}cov_jm8ynzac3().s[14]++;resolve();});}});}function close(){cov_jm8ynzac3().f[5]++;cov_jm8ynzac3().s[15]++;return mongoose.disconnect();}cov_jm8ynzac3().s[16]++;module.exports={connect,close};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkRCY29ubmVjdC5qcyJdLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJkYlVSSSIsImNvbm5lY3QiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsIk1vY2tnb29zZSIsIm1vY2tnb29zZSIsInByZXBhcmVTdG9yYWdlIiwidGhlbiIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInVzZUNyZWF0ZUluZGV4IiwidXNlRmluZEFuZE1vZGlmeSIsInJlcyIsImVyciIsImNsb3NlIiwiZGlzY29ubmVjdCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiIwa0dBZVk7eUZBZlosS0FBTUEsQ0FBQUEsUUFBUSx5QkFBQ0MsT0FBTyxDQUFDLFVBQUQsQ0FBUixDQUFkLENBQ0EsS0FBTUMsQ0FBQUEsS0FBSyx5QkFBQyxxR0FBRCxDQUFYLENBRUEsUUFBU0MsQ0FBQUEsT0FBVCxFQUFrQiwrQ0FDZCxNQUFPLElBQUlDLENBQUFBLE9BQUosQ0FBWSxDQUFDQyxPQUFELENBQVNDLE1BQVQsR0FBa0IsK0NBQ2pDLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEdBQXdCLE1BQTNCLENBQWtDLDJCQUM5QixLQUFNQyxDQUFBQSxTQUFTLHlCQUFDVCxPQUFPLENBQUMsV0FBRCxDQUFQLENBQXFCUyxTQUF0QixDQUFmLENBQ0EsS0FBTUMsQ0FBQUEsU0FBUyx5QkFBQyxHQUFJRCxDQUFBQSxTQUFKLENBQWNWLFFBQWQsQ0FBRCxDQUFmLENBRjhCLHVCQUc5QlcsU0FBUyxDQUFDQyxjQUFWLEdBQ0NDLElBREQsQ0FDTSxJQUFJLCtDQUNOYixRQUFRLENBQUNHLE9BQVQsQ0FBaUJELEtBQWpCLENBQXVCLENBQUNZLGVBQWUsQ0FBQyxJQUFqQixDQUNuQkMsa0JBQWtCLENBQUMsSUFEQSxDQUVuQkMsY0FBYyxDQUFDLElBRkksQ0FHbkJDLGdCQUFnQixDQUFDLElBSEUsQ0FBdkIsRUFJR0osSUFKSCxDQUlRLENBQUNLLEdBQUQsQ0FBS0MsR0FBTCxHQUFXLCtDQUNmLEdBQUlBLEdBQUosQ0FBUyx3REFBT2IsQ0FBQUEsTUFBTSxDQUFDYSxHQUFELENBQWIsQ0FBbUIsQ0FBNUIsZ0NBRGUsd0JBRWZkLE9BQU8sR0FDVixDQVBELEVBUUgsQ0FWRCxFQVdILENBZEQsSUFjSyxtREFDREwsUUFBUSxDQUFDRyxPQUFULENBQWlCRCxLQUFqQixDQUF1QixDQUFDWSxlQUFlLENBQUMsSUFBakIsQ0FDbkJDLGtCQUFrQixDQUFDLElBREEsQ0FFbkJDLGNBQWMsQ0FBQyxJQUZJLENBR25CQyxnQkFBZ0IsQ0FBQyxJQUhFLENBQXZCLEVBSUdKLElBSkgsQ0FJUSxDQUFDSyxHQUFELENBQUtDLEdBQUwsR0FBVyxnREFDZixHQUFJQSxHQUFKLENBQVMseURBQU9iLENBQUFBLE1BQU0sQ0FBQ2EsR0FBRCxDQUFiLENBQW1CLENBQTVCLGdDQURlLHdCQUVmZCxPQUFPLEdBQ1YsQ0FQRCxFQVFILENBRUosQ0ExQk0sQ0FBUCxDQTJCSCxDQUVELFFBQVNlLENBQUFBLEtBQVQsRUFBZ0IsZ0RBQ1osTUFBT3BCLENBQUFBLFFBQVEsQ0FBQ3FCLFVBQVQsRUFBUCxDQUNILEMsd0JBRURDLE1BQU0sQ0FBQ0MsT0FBUCxDQUFlLENBQUVwQixPQUFGLENBQVdpQixLQUFYLENBQWYiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZT1yZXF1aXJlKFwibW9uZ29vc2VcIik7XHJcbmNvbnN0IGRiVVJJPVwibW9uZ29kYitzcnY6Ly9hZG1pbjoxMjNAbW9uZ29kYnByYWN0aXNlLmJqb3pjLm1vbmdvZGIubmV0L0Nyb3BkZWFsQURNSU4/cmV0cnlXcml0ZXM9dHJ1ZSZ3PW1ham9yaXR5XCI7XHJcblxyXG5mdW5jdGlvbiBjb25uZWN0KCl7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e1xyXG4gICAgICAgIGlmKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSd0ZXN0Jyl7XHJcbiAgICAgICAgICAgIGNvbnN0IE1vY2tnb29zZT1yZXF1aXJlKFwibW9ja2dvb3NlXCIpLk1vY2tnb29zZTtcclxuICAgICAgICAgICAgY29uc3QgbW9ja2dvb3NlPW5ldyBNb2NrZ29vc2UobW9uZ29vc2UpO1xyXG4gICAgICAgICAgICBtb2NrZ29vc2UucHJlcGFyZVN0b3JhZ2UoKVxyXG4gICAgICAgICAgICAudGhlbigoKT0+e1xyXG4gICAgICAgICAgICAgICAgbW9uZ29vc2UuY29ubmVjdChkYlVSSSx7dXNlTmV3VXJsUGFyc2VyOnRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlVW5pZmllZFRvcG9sb2d5OnRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlQ3JlYXRlSW5kZXg6dHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB1c2VGaW5kQW5kTW9kaWZ5OnRydWVcclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oKHJlcyxlcnIpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuIHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH0pIFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBtb25nb29zZS5jb25uZWN0KGRiVVJJLHt1c2VOZXdVcmxQYXJzZXI6dHJ1ZSxcclxuICAgICAgICAgICAgICAgIHVzZVVuaWZpZWRUb3BvbG9neTp0cnVlLFxyXG4gICAgICAgICAgICAgICAgdXNlQ3JlYXRlSW5kZXg6dHJ1ZSxcclxuICAgICAgICAgICAgICAgIHVzZUZpbmRBbmRNb2RpZnk6dHJ1ZVxyXG4gICAgICAgICAgICB9KS50aGVuKChyZXMsZXJyKT0+e1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuIHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9KSBcclxuICAgICAgICB9XHJcblxyXG4gICAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gY2xvc2UoKXtcclxuICAgIHJldHVybiBtb25nb29zZS5kaXNjb25uZWN0KCk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzPXsgY29ubmVjdCwgY2xvc2UgfTsiXX0=